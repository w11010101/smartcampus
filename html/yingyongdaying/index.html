<div>
  <!DOCTYPE html>
  <html lang="zh-CN">
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>index</title>
  
    <!-- Bootstrap -->
  
    <link href="../../content/plug/bootstap/css/bootstrap.min.css" rel="stylesheet">
    <!-- <link href="../../content/plug/jquery/ui/css/jquery-ui.min.css" rel="stylesheet"> -->
    <link href="../../content/plug/sortable/css/sortable.css" rel="stylesheet">

    <link href="../../content/custom/css/common/common.css" rel="stylesheet">
    <link href="../../content/custom/css/yingyongdating/index.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elkements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
  </head>
  
  <body class="campus-application" >
    <nav class="navbar">
      <div class="smart-header smart-white">
        <a class="smart-cancel smart-icon-left">
          取消
        </a>
        <h1>应用大厅</h1>
        <a class="smart-edit smart-icon-right">
          编辑
        </a>
      </div>
    </nav>
    <div class="smart-content">
      <div class="smart-search">
        <input type="text" name="" placeholder="查找应用">
        <button type=""></button>
      </div>
      <!-- 拖动 -->
      <div id="advanced" class="advanced-box">
        <!-- 一组 -->
        <div id="box-1" class="box">
          <div class="smart-accordion-head">我的应用
            <em>长按拖动可排序</em>
          </div>
          <ul id="advanced-1" class="advanced" name="advanced" sortabl-class="我的应用">
            <li class="smart-sortable-remove" sortabl-type="zhushou" sortable-name="校园介绍">
              <span>
                <img src="../../content/custom/img/yingyongdating/zhushou/icon-1-3x.png" /> 校园介绍
              </span>
              <em class="smart-sortable-icon"></em>
            </li>
            <li class="smart-sortable-remove" sortabl-type="zhushou" sortable-name="失物招领">
              <span>
                <img src="../../content/custom/img/yingyongdating/zhushou/icon-2-3x.png" /> 失物招领
              </span>
              <em class="smart-sortable-icon"></em>
            </li>
            <li class="smart-sortable-remove" sortabl-type="jiaoshi" sortable-name="学期课表">
              <span>
                <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-2-3x.png" /> 学期课表
              </span>
              <em class="smart-sortable-icon"></em>
            </li>
            <li class="smart-sortable-remove" sortabl-type="xuesheng" sortable-name="上课签到">
              <span>
                <img src="../../content/custom/img/yingyongdating/xuesheng/icon-4-3x.png" /> 上课签到
              </span>
              <em class="smart-sortable-icon"></em>
            </li>
            <li class="smart-sortable-remove" sortabl-type="zhushou" sortable-name="智能门禁">
              <span>
                <img src="../../content/custom/img/yingyongdating/zhushou/icon-3-3x.png" /> 智能门禁
              </span>
              <em class="smart-sortable-icon"></em>
            </li>
            <li class="smart-sortable-remove" sortabl-type="zhushou" sortable-name="预定查询">
              <span>
                <img src="../../content/custom/img/yingyongdating/zhushou/icon-4-3x.png" /> 预定查询
              </span>
              <em class="smart-sortable-icon"></em>
            </li>
          </ul>
        </div>
        <div style="clear: both"></div>
      </div>
      <!-- 一组 -->
      <!-- <div class="tool-box"> -->
      <div id="wrapper" class="tool-box">
        <div id="scroller">
          <div id="box-2" class="box">
            <div class="smart-accordion-head">校园助手
              <em></em>
            </div>
            <ul id="advanced-2" class="advanced" name="advanced" sortabl-class="校园助手">
              <li sortabl-type="zhushou" sortable-name="校园介绍">
                <span>
                  <img src="../../content/custom/img/yingyongdating/zhushou/icon-1-3x.png" /> 校园介绍
                </span>
              </li>
              <li sortabl-type="zhushou" sortable-name="失物招领">
                <span>
                  <img src="../../content/custom/img/yingyongdating/zhushou/icon-2-3x.png" /> 失物招领
                </span>
              </li>
              <li sortabl-type="zhushou" sortable-name="智能门禁">
                <span>
                  <img src="../../content/custom/img/yingyongdating/zhushou/icon-3-3x.png" /> 智能门禁
                </span>
              </li>
              <li sortabl-type="zhushou" sortable-name="预定查询">
                <span>
                  <img src="../../content/custom/img/yingyongdating/zhushou/icon-4-3x.png" /> 预定查询
                </span>
              </li>
            </ul>
          </div>
          <!-- 一组 -->
          <div id="box-3" class="box">
            <div class="smart-accordion-head">课余生活
              <em></em>
            </div>
            <ul id="advanced-3" class="advanced" name="advanced" sortabl-class="课余生活">
              <li sortabl-type="keyu" sortable-name="校园社区">
                <span>
                  <img src="../../content/custom/img/yingyongdating/keyu/icon-1-3x.png" /> 校园社区
                </span>
              </li>
              <li sortabl-type="keyu" sortable-name="百团争艺">
                <span>
                  <img src="../../content/custom/img/yingyongdating/keyu/icon-2-3x.png" /> 百团争艺
                </span>
              </li>
            </ul>
          </div>
          <!-- 一组 -->
          <div id="box-4" class="box">
            <div class="smart-accordion-head">教室办公
              <em></em>
            </div>
            <ul id="advanced-4" class="advanced" name="advanced" sortabl-class="教室办公">
              <li sortabl-type="jiaoshi" sortable-name="办公通知">
                <span>
                  <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-1-3x.png" /> 办公通知
                </span>
              </li>
              <li sortabl-type="jiaoshi" sortable-name="学期课表">
                <span>
                  <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-2-3x.png" /> 学期课表
                </span>
              </li>
              <li sortabl-type="jiaoshi" sortable-name="签到管理">
                <span>
                  <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-3-3x.png" /> 签到管理
                </span>
              </li>
              <li sortabl-type="jiaoshi" sortable-name="在线课程管理">
                <span>
                  <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-4-3x.png" /> 在线课程管理
                </span>
              </li>
              <li sortabl-type="jiaoshi" sortable-name="双创管理">
                <span>
                  <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-5-3x.png" /> 双创管理
                </span>
              </li>
              <li sortabl-type="jiaoshi" sortable-name="迎新管理">
                <span>
                  <img src="../../content/custom/img/yingyongdating/jiaoshi/icon-6-3x.png" /> 迎新管理
                </span>
              </li>
            </ul>
          </div>
          <!-- 一组 -->
          <div id="box-5" class="box">
            <div class="smart-accordion-head">学生服务
              <em></em>
            </div>
            <ul id="advanced-5" class="advanced" name="advanced" sortabl-class="学生服务">
              <li sortabl-type="xuesheng" sortable-name="数字迎新">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xuesheng/icon-1-3x.png" /> 数字迎新
                </span>
              </li>
              <li sortabl-type="xuesheng" sortable-name="学期课表">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xuesheng/icon-2-3x.png" /> 学期课表
                </span>
              </li>
              <li sortabl-type="xuesheng" sortable-name="在线学习">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xuesheng/icon-3-3x.png" /> 在线学习
                </span>
              </li>
              <li sortabl-type="xuesheng" sortable-name="上课签到">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xuesheng/icon-4-3x.png" /> 上课签到
                </span>
              </li>
              <li sortabl-type="xuesheng" sortable-name="双创申报">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xuesheng/icon-5-3x.png" /> 双创申报
                </span>
              </li>
              <li sortabl-type="xuesheng" sortable-name="成绩查询">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xuesheng/icon-6-3x.png" /> 成绩查询
                </span>
              </li>
            </ul>
          </div>
          <!-- 一组 -->
          <div id="box-6" class="box">
            <div class="smart-accordion-head">综合校务
              <em></em>
            </div>
            <ul id="advanced-6" class="advanced" name="advanced" sortabl-class="综合校务">
              <li sortabl-type="xiaowu" sortable-name="邮件服务">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xiaowu/icon-1-3x.png" /> 邮件服务
                </span>
              </li>
              <li sortabl-type="xiaowu" sortable-name="NMS管理">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xiaowu/icon-2-3x.png" /> NMS管理
                </span>
              </li>
              <li sortabl-type="xiaowu" sortable-name="密码管理">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xiaowu/icon-3-3x.png" /> 密码管理
                </span>
              </li>
              <li sortabl-type="xiaowu" sortable-name="消息流转">
                <span>
                  <img src="../../content/custom/img/yingyongdating/xiaowu/icon-4-3x.png" /> 消息流转
                </span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  
  
  
  
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../../content/plug/jquery/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../content/plug/bootstap/js/bootstrap.min.js"></script>
    <script src="../../content/plug/jquery/tab/js/iscroll.js"></script>
    <script src="../../content/plug/sortable/Sortable.min.js"></script>
    <script src="../../content/custom/js/yingyongdating/index.js"></script>
    <script type="text/javascript">
    var sortableObjArr;
    var setStart = false;
    // 编辑要拖动应用
    var top;
    $(".tool-box").css("top",app.getTop());

    $(".smart-edit").on("click", function() {
      $("body").toggleClass("campus-active");
      !setStart ? function() {
        // 启动拖动组件
        sortableObjArr = app.sortableStart(app.boxEach());
        // 启动滑动
        app.scrollStart();
        // 添加删减图片 
        app.sortableStatus("show");
        $(".tool-box").css("top",app.getTop(1));
      }() : function() {
        // 销毁拖动
        sortableObjArr.destroy();
        // 销毁滑动
        app.myScroll.refresh();
        app.myScroll.destroy();

        $(".tool-box").css("top",app.getTop());


        document.removeEventListener('touchmove', app.setDefault, false);
      }()
  
      $(this).text(!setStart ? "完成" : "编辑");
      setStart = !setStart;
    });
    // 折叠
    $.each($(".smart-accordion-head"),function(i,e){
      if($(e).next().length){
        $(e).addClass("smart-active");
      }
    })
    $(".smart-accordion-head").on("click",function(){
      // slideToggle
      // fadeToggle
      
      $(this).toggleClass("smart-active").next($(".advanced")).slideToggle(200,function(){
        console.log(app.getTop())
        $(".tool-box").css("top",app.getTop());

      });
    })
    
    </script>
  
  </body>
  
  </html>
</div>